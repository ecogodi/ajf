<ng-template [ngIf]="widget != null && widgetInstance.visible">
  <div class="ajf-report-widget-container" [applyStyles]="widget!.styles" [ngSwitch]="widget!.widgetType">
    <ng-template [ngSwitchCase]="widgetTypes.Layout">
      <div class="ajf-columns">
        <div *ngFor="let column of layoutw.columns; let idx = index" [ngStyle]="{'flex-grow': column > -1 ? 1 : null, 'flex-basis' : column > -1 ? (column * 100) + '%' : null}"
          class="ajf-column">
          <ajf-report-widget [widgetInstance]="layoutwInst|ajfGetColumnContent:idx">
          </ajf-report-widget>
        </div>
      </div>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.PageBreak">
      <ajf-page-break></ajf-page-break>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Image">
      <ajf-image [type]="imgw.imageType" [imageUrl]="imgwInst.url" [icon]="imgwInst.icon" [flag]="imgwInst.flag"></ajf-image>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.ImageContainer">
      <div class="ajf-columns" [ngSwitch]="imgcw.imageType">
          <ng-template [ngSwitchCase]="imageTypes.Image">
            <div *ngFor="let icw of imgcwInst.urls; let idx = index" class="ajf-column">
              <ajf-image [type]="imgcw.imageType" [imageUrl]="icw" [icon]="" [flag]="" [applyStyles]="widget!.styles"></ajf-image>
            </div>
          </ng-template>
          <ng-template [ngSwitchCase]="imageTypes.Flag">
              <div *ngFor="let icw of imgcwInst.flags; let idx = index" class="ajf-column">
                <ajf-image [type]="imgcw.imageType" [imageUrl]="" [icon]="" [flag]="icw" [applyStyles]="widget!.styles"></ajf-image>
              </div>
          </ng-template>
          <ng-template [ngSwitchCase]="imageTypes.Icon">
              <div *ngFor="let icw of imgcwInst.icons; let idx = index" class="ajf-column">
                <ajf-image [type]="imgcw.imageType" [imageUrl]="" [icon]="icw" [flag]="" [applyStyles]="widget!.styles"></ajf-image>
              </div>
          </ng-template>
      </div>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Chart">
      <ajf-chart [chartType]="chartwInst.chartType" [options]="chartw.options" [data]="chartwInst.data"></ajf-chart>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Table">
      <ajf-table [data]="tablewInst.data"></ajf-table>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Text">
      <ajf-text [htmlText]="textwInst.htmlText | translate"></ajf-text>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Map">
      <ajf-map [coordinate]="mapwInst.coordinate" [tileLayer]="mapw.tileLayer" [attribution]="mapw.attribution" [disabled]="mapw!.disabled">
      </ajf-map>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Column">
      <div class="ajf-column-container" *ngIf="widgetInstance.visible">
        <ng-container *ngFor="let w of columnInst.content">
          <ajf-report-widget [widgetInstance]="w">
          </ajf-report-widget>
        </ng-container>
      </div>
    </ng-template>
    <ng-template [ngSwitchCase]="widgetTypes.Formula">
      <ajf-text [htmlText]="formulawInst.formula"></ajf-text>
    </ng-template>
  </div>
</ng-template>
